<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet"
	href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css">

<link rel="stylesheet" type="text/css" href="dist/waiting.css">

<script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
<script
	src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>

<script src="dist/jquery.waiting.min.js"></script>

<script>
	jQuery(document).ready(function($) {
		ajaxEval("event?type=init");
		$('body').waiting('done');
	});

	function click(o, cid) {
		ajaxEval("event?type=click&cid=" + cid);
	}

	function change(o, cid) {
		ajaxEval("event?type=change&cid=" + cid + "&newValue="
				+ encodeURIComponent($("#" + cid).val()));
	}

	function ajaxEval(url) {
		
		ttInterval = setTimeout(function() { $('body').waiting(); }, 400);
		$.ajax({
			url : url
		}).done(function(data) {
			eval(data);
			$('body').waiting('done');
			if (typeof(ttInterval) != "undefined") clearInterval(ttInterval);
		}).fail(function(jqXHR, textStatus ) {
			alert(jqXHR.responseText);
		});
	}
	
	function error(msg) {
		alert(msg);
	}
</script>
</head>
<body>
	<div data-role="page">
		<div role="main" class="ui-content" id="contentPanel"></div>

	</div>

	<div id="nullPanel"></div>
</body>
</html>